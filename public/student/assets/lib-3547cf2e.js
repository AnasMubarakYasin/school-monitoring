function u(i,t){const e=document.getElementById(i),r=e.querySelector("thead"),o=e.querySelector("tbody"),s=r.querySelector("input[type=checkbox]"),h=[...o.querySelectorAll("tr input[type=checkbox]")];s.addEventListener("change",c=>{h.forEach(a=>{a.checked=s.checked}),t==null||t.call(null,s)}),h.forEach(c=>{c.addEventListener("change",a=>{let n=!1;for(const d of h)if(n){if(d.checked==n)continue;s.indeterminate=!0,t==null||t.call(null,s);return}else n=d.checked;s.checked=n,s.indeterminate=!1,t==null||t.call(null,s)})})}const l=new DOMParser;function p(i){return l.parseFromString(i,"text/html").body.firstChild}class b{constructor(t){this.time=0,this.progress=0,this.timeout=2e3,this.startValue=0,this.max=100,this.interval=16,this.delay=100,this.percent=0,this.id=0,this.idEnd=0;const e=Object.assign({},{max:100,time:0,progress:0,timeout:2e3,completion:1e3,alwaysReset:!1},t);this.max=e.max,this.time=e.time,this.timeout=e.timeout,this.progress=e.progress,this.percent=this.genPercent(),this.options=e}start(){this.addStart(),this.addFinish()}resume(){this.addStart(),this.addFinish()}pause(){clearInterval(this.id),clearTimeout(this.idEnd)}finish(){this.pause(),this.time=0,this.timeout=this.options.completion,this.percent=this.genPercent(),this.addStart(),this.addFinish()}stop(){this.pause()}reset(){this.time=0,this.timeout=this.options.timeout,this.percent=this.genPercent(),this.progress=0}genPercent(){return this.max/this.timeout}addStart(){var r;const t=this.interval,e=this.percent;(r=this.onStart)==null||r.call(this),this.id=setInterval(()=>{var o;(o=this.onProgress)==null||o.call(this,this.progress),this.time+=t,this.progress+=e*t},t)}addFinish(){this.idEnd=setTimeout(()=>{var t;clearInterval(this.id),(t=this.onFinish)==null||t.call(this),this.stop(),this.options.alwaysReset&&this.reset()},this.timeout+this.delay-this.time)}}export{b as S,p as c,u as t};
